<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <h1>Welcome to Your Dashboard</h1>
        <p id="userEmail">Loading user data...</p>
        <button id="logoutBtn" class="btn">Logout</button>
    </div>

    <script>
        // Initialize Firebase with your config
       // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDvzJKKnrby8kmsV6csVEXT3abCMZ3Riow",
  authDomain: "sign-ffff3.firebaseapp.com",
  projectId: "sign-ffff3",
  storageBucket: "sign-ffff3.firebasestorage.app",
  messagingSenderId: "461869144298",
  appId: "1:461869144298:web:ba27f8716285ef197bdf93",
  measurementId: "G-F87KDLQM4F"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

        // DOM Elements
        const userEmail = document.getElementById('userEmail');
        const logoutBtn = document.getElementById('logoutBtn');

        // Check auth state
        auth.onAuthStateChanged(user => {
            if (user) {
                // User is signed in
                userEmail.textContent = `Logged in as: ${user.email}`;
                
                // Get user data from Firestore
                db.collection('users').doc(user.uid).get()
                    .then(doc => {
                        if (doc.exists) {
                            const userData = doc.data();
                            console.log('User data:', userData);
                        }
                    });
            } else {
                // User is signed out, redirect to login
                window.location.href = 'index.html';
            }
        });

        // Logout
        logoutBtn.addEventListener('click', () => {
            auth.signOut()
                .then(() => {
                    window.location.href = 'index.html';
                })
                .catch(err => {
                    alert(err.message);
                });
        });
    </script>
</body>
</html>